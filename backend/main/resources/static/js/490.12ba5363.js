"use strict";(self["webpackChunkserverpackcreator"]=self["webpackChunkserverpackcreator"]||[]).push([[490],{47490:(e,l,o)=>{o.r(l),o.d(l,{default:()=>T});var i=o(83673),a=o(62323);const s=(0,i._)("div",{class:"text-h4"},"Downloads",-1),t={key:0,class:"text-red text-bold"},n={key:1,class:"text-green text-bold"},r={key:2,class:"text-bold"},d={key:3},u={key:4},m=(0,i.Uk)(" Upvote this pack! "),c=(0,i.Uk)(" Downvote this pack! "),f={key:0,class:"col"},p={class:"full-width row flex-center text-negative q-gutter-sm"},b={style:{"font-weight":"bold","font-size":"14px"}};function w(e,l){const o=(0,i.up)("q-card-section"),w=(0,i.up)("q-tooltip"),v=(0,i.up)("q-btn"),g=(0,i.up)("q-td"),k=(0,i.up)("q-tr"),h=(0,i.up)("q-icon"),q=(0,i.up)("q-input"),C=(0,i.up)("q-toggle"),V=(0,i.up)("q-select"),y=(0,i.up)("q-table"),W=(0,i.up)("q-card"),D=(0,i.up)("q-intersection");return(0,i.wg)(),(0,i.j4)(D,{class:"intersection",once:"",transition:"scale"},{default:(0,i.w5)((()=>[(0,i.Wm)(W,{bordered:"",flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(o,null,{default:(0,i.w5)((()=>[s])),_:1}),(0,i.Wm)(o,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y,{rows:this.rows,columns:this.columns,"row-key":"id",filter:e.filter,"visible-columns":e.visibleColumns,"no-data-label":"Couldn't retrieve server packs.... :(","no-results-label":"The search didn't uncover any results"},{body:(0,i.w5)((l=>[(0,i.Wm)(k,{props:l},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.cols,(o=>((0,i.wg)(),(0,i.j4)(g,{key:o.name,props:l},{default:(0,i.w5)((()=>["confirmedWorking"===o.field&&l.row.confirmedWorking<0?((0,i.wg)(),(0,i.iD)("span",t,(0,a.zw)(o.value),1)):(0,i.kq)("",!0),"confirmedWorking"===o.field&&l.row.confirmedWorking>0?((0,i.wg)(),(0,i.iD)("span",n,(0,a.zw)(o.value),1)):(0,i.kq)("",!0),"confirmedWorking"===o.field&&0===l.row.confirmedWorking?((0,i.wg)(),(0,i.iD)("span",r,(0,a.zw)(o.value),1)):(0,i.kq)("",!0),"size"===o.field?((0,i.wg)(),(0,i.iD)("span",d,(0,a.zw)(o.value)+" MB ",1)):(0,i.kq)("",!0),"confirmedWorking"!==o.field&&"size"!==o.field?((0,i.wg)(),(0,i.iD)("span",u,(0,a.zw)(o.value),1)):(0,i.kq)("",!0),"confirmedWorking"===o.field?((0,i.wg)(),(0,i.j4)(v,{key:5,style:{"margin-left":"5px"},disable:e.vote,push:"",color:"positive",icon:"thumb_up",size:"sm",round:"",dense:"",onClick:o=>e.works(l.row.id,"up")},{default:(0,i.w5)((()=>[e.vote?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(w,{key:0,disable:this.$q.platform.is.mobile},{default:(0,i.w5)((()=>[m])),_:1},8,["disable"]))])),_:2},1032,["disable","onClick"])):(0,i.kq)("",!0),"confirmedWorking"===o.field?((0,i.wg)(),(0,i.j4)(v,{key:6,disable:e.vote,push:"",color:"negative",icon:"thumb_down",size:"sm",round:"",dense:"",onClick:o=>e.works(l.row.id,"down")},{default:(0,i.w5)((()=>[e.vote?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(w,{key:0,disable:this.$q.platform.is.mobile},{default:(0,i.w5)((()=>[c])),_:1},8,["disable"]))])),_:2},1032,["disable","onClick"])):(0,i.kq)("",!0),"Available"===l.row.status&&"status"===o.field?((0,i.wg)(),(0,i.j4)(v,{key:7,style:{"margin-left":"5px"},modelValue:l.row.status,"onUpdate:modelValue":e=>l.row.status=e,size:"sm",color:"info",round:"",dense:"",type:"a",href:e.download(l.row.id),icon:"download"},null,8,["modelValue","onUpdate:modelValue","href"])):(0,i.kq)("",!0)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),"top-left":(0,i.w5)((()=>[(0,i.Wm)(q,{borderless:"",dense:"",debounce:"300",modelValue:e.filter,"onUpdate:modelValue":l[1]||(l[1]=l=>e.filter=l),placeholder:"Search"},{append:(0,i.w5)((()=>[(0,i.Wm)(h,{name:"search"}),""!==this.filter?((0,i.wg)(),(0,i.j4)(h,{key:0,name:"clear",onClick:l[0]||(l[0]=e=>this.filter="")})):(0,i.kq)("",!0)])),_:1},8,["modelValue"])])),"top-right":(0,i.w5)((()=>[this.$q.screen.gt.xs?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[2]||(l[2]=l=>e.visibleColumns=l),val:"id",label:"ID"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[3]||(l[3]=l=>e.visibleColumns=l),val:"projectID",label:"Project (ID)"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[4]||(l[4]=l=>e.visibleColumns=l),val:"fileID",label:"File (ID)"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[5]||(l[5]=l=>e.visibleColumns=l),val:"size",label:"Size"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[6]||(l[6]=l=>e.visibleColumns=l),val:"downloads",label:"Downloads"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[7]||(l[7]=l=>e.visibleColumns=l),val:"fileDiskName",label:"File disk name"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[8]||(l[8]=l=>e.visibleColumns=l),val:"dateCreated",label:"Created at"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[9]||(l[9]=l=>e.visibleColumns=l),val:"lastModified",label:"Last modified at"},null,8,["modelValue"]),(0,i.Wm)(C,{modelValue:e.visibleColumns,"onUpdate:modelValue":l[10]||(l[10]=l=>e.visibleColumns=l),val:"confirmedWorking",label:"Confirmed working"},null,8,["modelValue"])])):((0,i.wg)(),(0,i.j4)(V,{key:1,modelValue:e.visibleColumns,"onUpdate:modelValue":l[11]||(l[11]=l=>e.visibleColumns=l),multiple:"",borderless:"",dense:"","options-dense":"","display-value":this.$q.lang.table.columns,"emit-value":"","map-options":"",options:e.columns,"option-value":"name",style:{"min-width":"150px"}},null,8,["modelValue","display-value","options"]))])),"no-data":(0,i.w5)((({icon:e,message:l,filter:o})=>[(0,i._)("div",p,[(0,i.Wm)(h,{size:"2em",name:"search_off"}),(0,i._)("span",b," Well this is sad... "+(0,a.zw)(l),1),(0,i.Wm)(h,{size:"2em",name:"sentiment_very_dissatisfied"})])])),_:1},8,["rows","columns","filter","visible-columns"])])),_:1})])),_:1})])),_:1})}var v=o(11768),g=o(61959);const k={name:"Downloads",setup(){const e=[{name:"id",required:!1,label:"ID",align:"left",field:"id",sortable:!0},{name:"projectID",required:!1,label:"Project (ID)",align:"left",field:"projectID",sortable:!0},{name:"fileID",required:!1,label:"File (ID)",align:"left",field:"fileID",sortable:!0},{name:"projectName",required:!0,label:"Project",align:"left",field:"projectName",sortable:!0},{name:"fileName",required:!0,label:"Display name",align:"left",field:"fileName",sortable:!0},{name:"fileDiskName",required:!1,label:"File disk name",align:"left",field:"fileDiskName",sortable:!0},{name:"size",required:!1,label:"Size (MB)",align:"right",field:"size",sortable:!0},{name:"downloads",required:!1,label:"Downloads",align:"center",field:"downloads",sortable:!0},{name:"dateCreated",required:!1,label:"Created at",align:"left",field:"dateCreated",sortable:!0},{name:"lastModified",required:!1,label:"Last modified at",align:"left",field:"lastModified",sortable:!0},{name:"confirmedWorking",required:!1,label:"Confirmed working",align:"center",field:"confirmedWorking",sortable:!0},{name:"status",required:!0,label:"Download",align:"left",field:"status",sortable:!1}];let l=(0,g.iH)([]);return v.api.get("/packs/all").then((e=>{l.value=e.data})).catch((e=>{console.log("An error occurred trying to fetch all available server packs."),console.log(e),this.$q.notify({timeout:5e3,progress:!0,icon:"error",color:"negative",message:"An error occurred trying to fetch all available server packs: "+e})})),{visibleColumns:(0,g.iH)(["projectName","fileName","size","downloads","lastModified","confirmedWorking","status"]),columns:e,rows:l,filter:(0,g.iH)(""),vote:(0,g.iH)(!1)}},methods:{download(e){return"/api/packs/download/"+e},works(e,l){v.api.get("/packs/vote/"+e+","+l).catch((l=>{console.log("An error occurred trying to vote for server pack with id: "+e+"."),console.log(l),this.$q.notify({timeout:5e3,progress:!0,icon:"error",color:"negative",message:"An error occurred trying to vote for server pack with id: "+e+". "+l})})),this.vote=!0,setTimeout((()=>{this.vote=!1}),6e4)}},mounted(){}};var h=o(74260),q=o(58218),C=o(10151),V=o(25589),y=o(96952),W=o(18186),D=o(83884),z=o(2165),_=o(5363),j=o(34842),U=o(24554),I=o(28886),x=o(71900),Z=o(7518),Q=o.n(Z);const N=(0,h.Z)(k,[["render",w]]),T=N;Q()(k,"components",{QIntersection:q.Z,QCard:C.Z,QCardSection:V.Z,QTable:y.Z,QTr:W.Z,QTd:D.Z,QBtn:z.Z,QTooltip:_.Z,QInput:j.Z,QIcon:U.Z,QToggle:I.Z,QSelect:x.Z})}}]);